<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      input:required:user-invalid {
        background-color: salmon;
      }
    </style>
  </head>
  <body>
    <!-- 이메일을 입력하는 인풋창을 만들고 폼을 제출했을 때 만약 이메일 양식에 어긋나면
     ‘알맞는 양식의 이메일 주소를 입력하세요’ 메세지를 출력하도록 합니다. 양식이 올바르다면 제출하도록 만들어보세요. -->
    <form action="">
      <label for="email">이메일 :</label>
      <input
        type="email"
        id="email"
        placeholder="example@example.com"
        required
      />
      <button>제출하기</button>
    </form>
    <script>
      const form = document.querySelector("form");
      const btn = document.querySelector("button");
      const inp = document.getElementById("email");


      btn.addEventListener("click", (event) => {

        console.log(event);
        console.log(inp.validity);

        if (inp.validity.typeMismatch) {
          inp.setCustomValidity("알맞는 양식의 이메일 주소를 입력하세요");
        } else if (inp.validity.valueMissing) {
          inp.setCustomValidity("이메일주소를 정확하게 입력해주세요.");
        } else {
          inp.setCustomValidity("");
        }
      });

      //   const inp = document.getElementById("email");
      //   inp.addEventListener("input", () => {
      //     console.log(inp.validity);

      //     // 타입에 어긋난 값이 입력된 경우
      //     if (inp.validity.typeMismatch) {
      //       inp.setCustomValidity("알맞는 양식의 이메일 주소를 입력하세요");
      //     } else {
      //       inp.setCustomValidity("");
      //     }
      //   });
    </script>
  </body>
</html>
