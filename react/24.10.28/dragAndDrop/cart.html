<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      .product {
        background-color: salmon;
      }

      #cart {
        background-color: skyblue;
        height: 500px;
      }

      .none {
        display: none;
      }
    </style>
  </head>
  <body>
    <h2>제품 목록</h2>
    <div id="product-list">
      <div class="product" draggable="true">상품 1</div>
      <div class="product" draggable="true">상품 2</div>
      <div class="product" draggable="true">상품 3</div>
      <div class="product" draggable="true">상품 4</div>
    </div>

    <h2>장바구니</h2>
    <div id="cart">
      <p class="noneCart">장바구니가 비어 있습니다.</p>
    </div>

    <script>
      //       JavaScript의 Drag and Drop API를 사용하여 구현해야 합니다.
      //   다음 요구 사항을 충족하는 간단한 쇼핑 카트 웹 페이지를 구현하세요.

      //   1. 제품 목록과 장바구니 영역이 있습니다.
      //   2. 제품 목록에는 여러 개의 상품이 나열되어 있습니다.
      //   3. 사용자는 제품 목록의 상품을 드래그하여 장바구니 영역에 드롭할 수 있습니다.
      //   4. 장바구니 영역에는 드롭된 상품들의 이름이 표시됩니다.

      const item = document.querySelectorAll(".product");
      const cart = document.querySelector("#cart");

      item.forEach((element) => {
        element.addEventListener("dragstart", (event) => {
          console.log("drag!", event.target.textContent);
          event.dataTransfer.setData("text/plain", event.target.textContent);
        });
      });

      cart.addEventListener("dragover", (event) => {
        event.preventDefault();
      });

      cart.addEventListener("drop", (event) => {
        console.log("drop!!", event.target.textContent);
        const data = event.dataTransfer.getData("text/plain");
        const cartText = document.querySelector(".noneCart");

        const newData = document.createElement("p");
        event.target.appendChild(newData);
        newData.textContent = data;
        cartText.classList.add("none");
      });
    </script>
  </body>
</html>
