<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      .target {
        width: 50px;
        height: 50px;
        background-color: hotpink;
      }

      .dropZone {
        margin-top: 100px;
        width: 300px;
        height: 300px;
        background-color: teal;
      }
    </style>
  </head>
  <body>
    <div draggable="true" class="target">target</div>

    <div class="dropZone"></div>

    <script>
      const item = document.querySelector(".target");
      const dropZone = document.querySelector(".dropZone");

      // 드래그 시작
      item.addEventListener("dragstart", (event) => {
        console.log("drag start");

        event.dataTransfer.setData("text/plain", "전달할 텍스트");

        const obj = {
          id: 1,
          content: "ggggg",
        };

        event.dataTransfer.setData("application/json", JSON.stringify("obj"));
      });

      // 드래그 중...
      //   item.addEventListener("drag", () => {
      //     console.log("draging...");
      //   });

      // 드래그 종료
      item.addEventListener("dragend", () => {
        console.log("drag end");
      });

      // 드랍존에 진입했을 경우
      dropZone.addEventListener("dragenter", () => {
        console.log("drag enter!");
      });

      // 드랍존에 진입해있을경우
      dropZone.addEventListener("dragover", (event) => {
        event.preventDefault();
        console.log("drag over!");
      });

      //드랍존을 떠났을 경우
      dropZone.addEventListener("dragleave", () => {
        console.log("drag leave!");
      });

      // 대상이 드롭되었을 경우
      dropZone.addEventListener("drop", (event) => {
        console.log("drop!!!!!!");

        const text = event.dataTransfer.getData("application/json");
        dropZone.textContent = "text";
      });
    </script>
  </body>
</html>
